/*! Built with http://stenciljs.com */
import{h}from"./starship-picard.core.js";var ImageUploader=function(){function e(){this.byteSizeLimit=1e7}return e.prototype.onFileSelected=function(e){var i=this.uploaderEl.shadowRoot.querySelector("#fileInput"),t=this.uploaderEl.shadowRoot.querySelector("#fileImg"),a=i.files[0],l=new FileReader;if(a.size<=this.byteSizeLimit)l.addEventListener("load",function(){t.src=l.result}),l.readAsDataURL(a),this.uploaded=!0,this.fileName=a.name,this.imageUploaderOnUpload.emit(a);else{var r={error:"fileSize",event:e};this.imageUploaderOnUpload.emit(r)}},e.prototype.removeFile=function(e){var i=this.uploaderEl.shadowRoot.querySelector("#fileInput"),t=this.uploaderEl.shadowRoot.querySelector("#fileImg");e?this.removeImage.emit(e):(this.uploaded=!1,i.value="",t.src="")},e.prototype.render=function(){var e=this;return h("div",null,(!this.imageUrl||"[object File]"===this.imageUrl)&&h("div",{class:"image-uploader"},h("div",{class:{"can-upload":!0,"is-hidden":this.uploaded}},h("i",{class:"material-icons photo-icon"},"photo_library"),h("div",{class:{"drag-text":!0,"is-hidden":!this.isDraggable}},"Drag an image here"),h("div",{class:{"or-text":!0,"is-hidden":!this.isDraggable}},"— or —"),h("div",{class:"upload-btn-wrapper"},h("button",{type:"button",class:"button"},this.uploadButtonText),h("input",{id:"fileInput",type:"file",name:"myfile",accept:"image/*",onChange:function(i){return e.onFileSelected(i)}})),h("div",{class:"is-small"},this.sizeLimitText)),h("div",{class:{uploaded:!0,"is-hidden":!this.uploaded}},h("img",{id:"fileImg",class:"upload-img",src:"",alt:"uploaded_img",width:"140",height:"140"}))),h("div",{class:{"file-list":!0,"is-invisible":!this.uploaded}},h("i",{class:"material-icons",onClick:function(){return e.removeFile()}},"close"),h("span",null,this.fileName)),this.imageUrl&&"[object File]"!==this.imageUrl&&h("div",{class:{"file-list":!0}},h("i",{class:"material-icons",onClick:function(){return e.removeFile(e.imageUrl)}},"close"),h("span",{class:"preview-image not-string"},h("img",{src:this.imageUrl}))))},Object.defineProperty(e,"is",{get:function(){return"sa-image-uploader"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{byteSizeLimit:{type:Number,attr:"byte-size-limit"},fileName:{state:!0},imageUrl:{type:String,attr:"image-url"},isDraggable:{type:Boolean,attr:"is-draggable"},sizeLimitText:{type:String,attr:"size-limit-text"},uploadButtonText:{type:String,attr:"upload-button-text"},uploaded:{state:!0},uploaderEl:{elementRef:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"imageUploaderOnUpload",method:"imageUploaderOnUpload",bubbles:!0,cancelable:!0,composed:!0},{name:"removeImage",method:"removeImage",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return".material-icons{font-family:'Material Icons';font-weight:400;font-style:normal;font-size:24px;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;-webkit-font-feature-settings:'liga';font-feature-settings:'liga'}:host{font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-smoothing:antialiased;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;text-shadow:rgba(0,0,0,.01) 0 0 1px}:host .image-uploader{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px dashed #e5e5e5;color:#999;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:200px;width:200px}:host .image-uploader .can-upload{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}:host .image-uploader .photo-icon{color:#999;font-size:32px;height:32px;margin-bottom:8px;margin-top:46px;width:32px}:host .image-uploader .drag-text{font-size:13px;margin-bottom:8px}:host .image-uploader .or-text{font-size:12px;margin-bottom:8px}:host .image-uploader .upload-btn-wrapper{margin-bottom:8px;position:relative;width:148px}:host .image-uploader .upload-btn-wrapper .button{background-color:#d8d8d8;border:none;color:#fff;font-size:9px;height:24px;padding:7px 0;text-transform:uppercase;width:100%}:host .image-uploader .upload-btn-wrapper input[type=file]{cursor:pointer;height:24px;left:0;opacity:0;position:absolute;width:100%}:host .image-uploader .is-small{font-size:10px}:host .image-uploader .uploaded{margin:auto}:host .image-uploader .is-hidden{display:none}:host .image-uploader .upload-img{display:block;height:auto;max-height:140px;max-width:140px;width:auto}:host .file-list{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#333;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:14px;margin-top:16px}:host .file-list i{color:#666;cursor:pointer;margin-right:8px}:host .is-invisible{visibility:hidden}:host .preview-image{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px dashed #e5e5e5;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:160px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;max-height:160px;max-width:160px;padding:20px;width:160px}:host .preview-image img{display:block;height:auto;max-width:134px;width:auto}"},enumerable:!0,configurable:!0}),e}();export{ImageUploader as SaImageUploader};